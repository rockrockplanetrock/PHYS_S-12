!DOCTYPE html>
<html lang="en">
<head>
  <title>PHYS S-12: Intro to Digital Fabrication </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> 
  <link href="../style.css" rel="stylesheet">

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

</head>
<body>
<style>
  h3 {
    text-align: center;
    color: black;}
  
  body {
    background-color: yellow;
    text-align: center;
    width:100%;}
</style>

<body>
<html lang="en">
<head>
  <title>PHYS S-12: Intro to Electronics </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> 
  <link href="../style.css" rel="stylesheet">
  <h4>Class 8: Output</h4><br> 
</head>
</body>


<h3>Class 8: Output/h3> <br> 

<p>

In class this week we played with a piezo disc/buzzer, LED strips, and just dipped our toes into stepper motors. I was particularly excited about stepper motors for my final project, but I hooked up a potentiometer incorrectly to an external power source and fried my board!

Before this fiasco, I was able to use the buzzer to first make noise, then play a scale, and finally sync to an LED strip. Later on, I was excited about the possibilities of the piezo and uploaded <a href="https://github.com/lukecyca/TetrisThemeArduino/blob/master/TetrisThemeArduino.ino#L1">code from Github</a> for the Tetris theme song. Perhaps in the future I may create a Tetris game on an LED array?

<pre><code class="language-arduino">


<h3>Assignment: Choose an output device and operate it! </h3>

<h4> Nitinol</h4>
<p>First, I was overly ambitious and tried to use <a href="https://en.wikipedia.org/wiki/Nickel_titanium">nitinol</a>, also known as muscle wire as a potential programmable output. Unfortunately, I think the wire gauge was too thick to be reasonably pliable. I did get to set a conformation by heating up the metal to red hot (which is apparently 900F) and setting it by plunging it in cold water. From there, you can bend it and the form is reset with an applied voltage. Here's a few images from this journey. </p>

<img src="./nitinol.jpg" class="img-responsive margin" style="width:100%">
<img src="./piezodisc.jpg" class="img-responsive margin" style="width:100%">
<img src="/velosensor1.GIF">
<h4>Advanced Application of the Stepper Motor</h4>

<p> I decided to use a stronger stepper motor than I had used previously, which on first sight seemed more complicated internally. Specifically, I was using the <a href="https://www.omc-stepperonline.com/nema-17-bipolar-1-8deg-26ncm-36-8oz-in-0-4a-12v-42x42x34mm-4-wires.html">Nema 17 Bipolar Stepper Motor to be smooth moving and alternating directions based on a signal for my final project. I tried to incorporate the Galvanic Skin Conductance sensor from seeed, but it needs a lot of work!
<img src="./gsr_testing.GIF">

<pre><code class="language-arduino">

const int GSR=A0;
int sensorValue=0;
int gsr_average=0;
 
void setup(){
  Serial.begin(9600);
}
 
void loop(){
  long sum=0;
  for(int i=0;i<10;i++)           //Average the 10 measurements to remove the glitch
      {
      sensorValue=analogRead(GSR);
      sum += sensorValue;
      delay(5);
      }
   gsr_average = sum/10;
   Serial.println(gsr_average);
}
</code></pre>
<iframe width="640" height="480" src="gsr testing.mp4" frameborder="0" allowfullscreen></iframe>
 Assignment: Choose an output device you have not used before and program a microcontroller to operate it. 

  #include <Stepper.h>

<pre><code class="language-arduino">
const int stepsPerRevolution = 200;  // change this to fit the number of steps per revolution
// for your motor

// initialize the stepper library on pins 8 through 11:
Stepper myStepper(stepsPerRevolution, 11, 10, 9, 8);

int stepCount = 0;         // number of steps the motor has taken

void setup() {
  myStepper.setSpeed(5);
  // initialize the serial port:
  Serial.begin(9600);
}

void loop() {
  // step one step:
  // step one revolution  clockwise:
   Serial.println("clockwise");
   myStepper.step(stepsPerRevolution);
   delay(50);
   // step one revolution counterclockwise:
   Serial.println("counterclockwise");
   myStepper.step(-stepsPerRevolution);
   delay(50);
  
}
</pre></Stepper.h><code>

/*
 Variable_Motor_driver uses the dual H-bridge driver module.
 Inputs to the module on pin 9.
 VCC on the driver module connected to Vin on the Arduino board.
 GND on the module to GND on the Arduino.

 Driver channel is fully on when inputs are LOW.
 Use AnalogWrite to control motor speed. 
 0 is full on.  255 is full off.
  
This example code is in the public domain.
*/
void setup() {
                //Nothing to set up.
}





void loop() {
 int sensVal = analogRead(A0);
 int pwm_var = sensVal/4;
  
 analogWrite(9, pwm_var);   // Turn motor on according to value read from A0.
 delay(100);

  
}
</body>
</html>