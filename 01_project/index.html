<html lang="en">
<head>
  <title>PHYS S-12: Intro to Digital Fabrication </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> 
  <link href="../style.css" rel="stylesheet">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/arduino.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<style>
  h3 {
    text-align: center;
    color: black;}
  
  body {
    background-color: yellow;
    text-align: center;
    width:100%;}

  a {
    color: purple;
  } 
  div {
  padding: 50px;
  border: 5px solid #00000;
    }
</style>

<body>
<html lang="en">
<head>
  <title>PHYS S-12: Intro to Electronics </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script> 
  <link href="../style.css" rel="stylesheet">
  <h2>Final Project</h2><br> 
</head>
</body>

<body>
<h1>Inspiration + Planning</h1>
<h3>Initial Musings from Week 1</h3>
   <br>
    <p>I love interactive fashion as a concept. More specifically, I have imagined clothing wearing people and influencing the human's behavior, rather than a person wearing a garment. Likewise, if our internal physiological or psychological states were personified and announced by an article of clothing-- independent of whether the wearer wanted to proclaim their feelings or not--how would that influence our interactions, perceptions, and social conduct?</p>

    <p>As a gift to myself for graduating college, I bought myself Emoki--a lightweight EEG headset that translated the neural signal from a single point electrode to a pair of fluffy ears. [video] My Emoki headset garnered a lot of curious attention from strangers, but I soon learned that wearing my ears in public meant I was quite explicitly wearing my emotions as well. The ear motor output was coded to resemble that of a dog, and thus the focus of my attention was transparent. It was clear to observers whether I was particularly interested, not listening, suspicious, or engaged in a flow state; the vulnerability I experienced was particularly jarring and unexpected.  Here's the IndieGogo campaign video for the (now discontinued) Emoki headset:
  <iframe width="560" height="315" src="https://www.youtube.com/embed/b7WVBzCCY1s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
  </div>
</div>

<h4>Sensing Stress Responses by Skin Conductance</h4>
  <p>In the many years spent neuroscience labs, I have been particularly interested in studying stress and its neuroendocrine influences on the brain and behavior. In human studies, many researchers observe changes in subjects' skin conductance (also known as Galvanic Skin Response (GSR) by measuring relative changes in sweat gland activity from two points on the hand. Increased conductance between electrodes is indicative of heighted emotional arousal or a stress response. </p>
<br>
  <p>Students at the MIT Media lab produced a skin conductance measuring glove called the Galvactivator that glows when a change occurs. Based on their <a href='https://www.media.mit.edu/galvactivator/faq.html'>FAQ</a>, it seems like making a similar sensor wouldn't be too hard! 

  <img src='http://affect.media.mit.edu/projectpages/handwave/galvactivator-adc.jpg'> Definitely check out their <a href='https://www.media.mit.edu/galvactivator/movie.html'><b>commercial!</b></a>

  <p>I also found a few tutorials (<a href='https://thomaskosch.com/index.php/2017/12/17/galvanic-skin-response-powered-by-arduino/'><b>1</b></a>, <a href='https://wiki.seeedstudio.com/Grove-GSR_Sensor'><b>2</b></a>) using a $10 GSR sensor and an Arduino, so this seems quite feasible.<img src='https://files.seeedstudio.com/wiki/Grove-GSR_Sensor/img/GSR.jpg'> </p>
</p>

<h3>Braintorming from Class 05</h3>
<p>I have been pondering my design for the final project and how I wish to create moving spike projections a lot.  I decided to see if I could derive inspiration from others on <a href="https://www.thingiverse.com/">Thingiverse</a> and <a href="https://www.grabcad.com/"> GrabCad</a> by searching "spikes". I came across the following models, and it seems as though I'm going to have to ruminate on crystals and sea urchins to produce my design. I'm thinking that motion will be created from nitinol (muscle wire) or perhaps strings, but I need to sketch a little more to make sense of my design.

<h3>Sketches of my Stress Collar from 07-11-20</h3>
  <img src="./postitideas.jpg" class="img-responsive margin" style="width:15%>
</div>

<h1>Fabrication Process</h1>
<h2>3D Models Constructed in Fusion 360</h2>
<p> I first downloaded the CAD file for the conical spring from <a href="www.com">the distributer's website</a> in order to build the spikes. With the spring acting as a skeleton, I was able to construct the spike tip and base around it, taking the compression into account. I ended up creating a few iterations of this design, but below are the finalized version of the associated files. I had a local shop 3D print four of each in black PLA. </p>
<img src="./3dmodel_gif.gif">
<img src="./finalfusionpic.png">

<h3>Spike Tips</h3>
<p>The tips were made such that the top of the spring nestled in snugly at the base, even though my first design had the spring fed through a fitted channel in the top piece. At the spike's base was a loop for the string to pass through (which could have been a bit smaller, in retrospect); this held up through all of my spring compression tests. At the bottom edge of the tip, I made several holes so I could sew on a sheath if wanted later on.</p>
<br>
<h3>Spike Bases</h3>
<p> I initially wanted to incorporate rollers in the base loops to reduce friction of the system, but it proved challenging to create in Fusion 360. The base had two loops for the string to feed through, a channel for the bottom part of the spring to sit (not deep enough), as well as holes to sew through. Like the loop in the spike tip, I wish I had modelled it smaller, thus allowing for complete spike compression. Regardless, the bases were very sturdy and well-suited to this project.</p>
<br>

<p> Here are the files for the 3D printed components:
<a download href='./spring1_v4.stl'>Download my STL file</a>
<ul>
<li><a download href="./fullspikespring.f3d">Complete Fusion 360 File</a></li>
<li><a download href="./spikebasef360.png">Spike Base Fusion360 File</a></li>
<li><a download href="./springbase.stl">Spike Base STL File</a></li>
<li><a download href="springbase_0.15mm_PLA_MINI.gcode">Spike Base GCode</a></li>
<li><a download href="./spiketipf360.png">Spike Tip Fusion 360 File</a></li>
<li><a download href="./spiketip.stl">Spike Tip File</a></li>
<li><a download href="./spiketip_0.15mm_PLA_MINI.gcode">Spike Tip GCode</a></li>
</ul></p>
<br>
<br>
<h2> Materials + Tools</h2>
<ul>
  <li>2 x <a href="https://www.omc-stepperonline.com/nema-17-bipolar-1-8deg-26ncm-36-8oz-in-0-4a-12v-42x42x34mm-4-wires.html">Nema 17 Bipolar 1.8deg 26Ncm (36.8oz.in) 0.4A 12V 42x42x34mm 4 Wires</a></li>
  <li>2 x <a href="https://www.mpja.com/L9110-H-Bridge-Power-Driver-Dual-Channel-for-Arduino/productinfo/31596%20MP/">L9110 H Bridge Power Driver</a></li> 
  <img src="./sc_hbridge.jpg" style="width:20%">
  <img src="./hbridgetangle.jpg" style="width:20%"">
  <li>1 x  <a href="https://www.adafruit.com/product/3505?gclid=EAIaIQobChMIk6iKn_SX6gIVF8DICh0tzwA4EAAYASAAEgJm7vD_BwE">Adafruit Metro M0 Express</a></li>
  <img src="./sc_metroboard1.jpg" style="width:20%">
<img src="./sc_metroboard2.jpg" style="width:20%">
<br> OR
  <li>2 x <a href="https://www.adafruit.com/product/3591">Adafruit HUZZAH32 - ESP32 Feather Board</a></li>
  <li>4 x <a href="https://www.digikey.com/product-detail/en/century-spring-corp/TA-2259CS/2343-TA-2259CS-ND/11663306">3.5" Conical Springs from Century Spring Corp.</a></li>
  <li>1 x <a href="https://www.amazon.com/seeed-studio-Seeedstudio-Grove-sensor/dp/B012TNYDE4">seeed studio Grove GSR Sensor</a></li>
  <img src="./sc_gsrshield.jpg" style="width:20%">
<img src="./sc_handsensor.jpg" style="width:20%">
  <li>2 x plastic spools to put on motor shafts </li>
  <li><b>Assorted supplies + tools:</b> electrical tape, thick vinyl, grommets, scalpel, leather punch, belt buckle, nylon fishing line, heavy duty thread, wires (F:F, M:M), breadboard, 5V USB power bank + cord, Dremel</li>
  </ul>
  <br>
  <br>
<img src="./sc_breadboard.jpg" style="width:20%">
<img src="./sc_leatherpunch.jpg" style="width:20%">
<img src="./sc_springs.jpg" style="width:20%">

<br>
<br>
<h3>Which Board: Metro M0 Express or HUZZAH32?</h3>
<p>I began this project using two Huzzah32 boards, as I was so excited about the board-to-board direct communication facilitated by the ESP-NOW protocol. Here are the resources I found most helpful for ESP32 connection.</p>
<br>
  <ul>
    <li>https://randomnerdtutorials.com/esp32-servo-motor-web-server-arduino-ide/</li>
    <li>https://nathanmelenbrink.github.io/intro-dig-fab/09_networking/huzzah1b.html</li>
  </ul>
<br>
<h3>Measuring Stress + Thinking about the GSR Signals</h2>
<p>Stress can be measured by obtaining the galvanic skin response (see <a href="https://en.wikipedia.org/wiki/Electrodermal_activity">Wikipedia</a>) with dermal electrodes. This phenomenon is the basis of the polygraph test (also known as the lie detector) and works by comparing the difference between two points on the skin, which vary in conductivity with sweat (an output of the stress response or general sympathetic tone).</p>
<br>
<p>According to the <a href="https://wiki.seeedstudio.com/Grove-GSR_Sensor/">GSR sensor manufacturer seeed</a>, the sensor must be calibrated by adjusting a screw on the board until the baseline serial reading is 512. Unfortunately, I found this impossible for the first and second sensors I bought.</p>
<p>I found that the reading is either 100-0, 2300+, or 1700/1800 initially and drifts randomly over time. I troubleshooted this by equating a signal (indicating a stress state) with a negative slope or comparison of binned y-values, but this did not work. <a href="http://www.cwwang.com/2008/04/13/gsr-reader/">Che-Wei Wang's GSR project</a> was incredibly interesting, but he revealed that the interpretation of the sensor data would require Processing/p5* to compute.</p>
<p>I knew that signal processing with with a bandpass filter seemed inevitable and unnecessarily complicated, so I also tried to implement linear regression as a work around. Through iterative observation, I realized that a signal during the first 5-10 minutes or so of wearing the sensors could be any value less than 500 or 600, so I stuck with that as the physical fabrication required my time.</p>

<img src="./gsr_truthsensor.png" style="width:40%">

<p> The <a href="http://produceconsumerobot.com/truth">Truth Wristband kit</a> and documentation has an excellent page about GSR as a lie detector that is work a look./</p>
<br>
<h2>Code</h2>
<p>My code was compiled using the codes (<a href="https://roberthart56.github.io/SCFAB/SC_lab/Sensors/average.txt">1,</a> <a href="https://nathanmelenbrink.github.io/intro-dig-fab/10_machines/serial_setpoint_1.txt">2</a>) from the course website and inspired by the work of others GSR sensors (linked above). </p>
<br>
<iframe src=https://create.arduino.cc/editor/sparklellama/a93e559b-5b13-4d6e-b53d-7ec9af988dcc/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>
<br>
<br>

<p>Alternatively, this set is for the Adafruit HUZZAH ESP32 boards. First is the sender (connected to the sensor) and the second is the receiver. </p>
<iframe src=https://create.arduino.cc/editor/sparklellama/6a38a827-d105-4d90-b882-b84c0c2a80e2/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>
<br>
<iframe src=https://create.arduino.cc/editor/sparklellama/558a824a-e0fb-4b42-912c-5c03e180c0f5/preview?embed style="height:510px;width:100%;margin:10px 0" frameborder=0></iframe>
<br>
<h2>Methodology, Testing, + Wiring</h2>
<p>I wanted to have both motors running simultaneously, but for safety reasons I staggered them. If I proceeded as initially planned, I would have consulted <a href="https://www.arduino.cc/en/tutorial/BlinkWithoutDelay">BlinkWithoutDelay</a> or <a href="https://forum.arduino.cc/index.php?topic=93706.0">this helpful forum.</a> The latter resource inspired me to have each motor run fewer steps per loop interchangably. Upon testing this, I found this to be least hazardous. </p>
<br>


<h2>Construction</h2>
<p>The process of making the Stress Collar took many proto-prototypes, but here's how I made it happen.
  <br>
  <br>
  <ul>
    <li>1. Assume all components are present and coding has been completed.</li>
    <li>2. Epoxy springs to the spike bases.</li>
    <li>3. Cut thick vinyl sheeting 2" wide x length of neck + 3", cut in 1.5" starting at 0.5" from top and 0.5" from bottom. Slice a small hole for the belt in th middle of this narrower piece. Insert belt buckle and attach with 2-3 rivets. Cut 2" wide x 4" belt end, punch holes every inch or so with leather punch.</li>
    <li>4. Measure the "working length" of the collar (leaving room for buckle and motor attachments) and mark 4 evenly placed locations on vinyl. Trace the spike bases, mark 6 holes, and punch out the 6 holes withe the leather punch.</li>
    <li>5. Sew on spike base as seen in the photo with thick thread and secure well. Then feed nylon string through: base channel -> loop 1 ->up-> [[PLACE SPIKE TIP on top of screw]] -> spike tip loop -> down -> loop2 -> base channel. Then repeat!</li>
    <li> 6. Dremel a hole in the white spools about the size of the stepper shaft. Wrap the shaft in PTFE tape to snugly fit, attach each end of the string to a spool and put back on Stepper motor.</li>
    <li>7. Attach the Stepper motors, stacked to the back of the collar, opposite side of the buckle. I used electrical tape, but a 3D printed case would be best.</li>
<ul>

<img src="./sc_3dprintedbase.jpg" style="width:15%">
<img src="./sc_sewnon.jpg" style="width:15%">
<img src="./sc_attachcollar.jpg" style="width:15%">




<h1>Final Showcase</h1>
<br>
<img src="./petra.jpg" style="width:25%">
<img src="./sc_portrait1.jpg" style="width:15%">
<img src="./sc_selfiewide.jpg" style="width:15%">
<img src="./sc_back1.jpg" style="width:15%">
<img src="./sc_backlong.jpg" style="width:15%">
<iframe width="560" height="315" src="https://www.youtube.com/embed/Fm5Zi0R7mf0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</body>
</html>